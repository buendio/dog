{{ 'section-reviews.css' | asset_url | stylesheet_tag }}
<div class="container">
    {%- if section.settings.title != blank -%}
        <h2 class="h1 h1--decor">{{- section.settings.title -}}</h2>
    {%- endif -%}
    {%- if section.settings.title != blank -%}
        <p class="p section-reviews__text">{{- section.settings.text -}}</p>
    {%- endif -%}
    {%- if  section.blocks.size > 0 -%}
        <div class="reviews-items" dir="rtl">
            {%- for block in section.blocks -%}
                <div class="reviews-slide">
                    <div class="reviews-item">
                        {%- if block.settings.img != blank -%}
                            <img src="{{- block.settings.img | img_url: 'master' -}}" alt="" loading="lazy">
                        {%- endif -%}
                        {%- if block.settings.rate != blank -%}
                            {% render 'icon-stars' %}
                        {%- endif -%}
                        {%- if block.settings.text != blank -%}
                            <div class="reviews-item_txt">{{- block.settings.text -}}</div>
                        {%- endif -%}
                        {%- if block.settings.name != blank -%}
                            <h3>{{- block.settings.name -}}</h3>
                        {%- endif -%}
                    </div>
                </div>
            {%- endfor -%}
        </div>
    {%- endif -%}
    {%- comment -%}
    {%- if section.settings.textBtn != blank or section.settings.url != blank -%}
    <button class="section-reviews__link btn">{% render 'icon-review' %}{{- section.settings.textBtn -}}</button>
    {%- endif -%}
    {%- endcomment -%}
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        $('.reviews-items').slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      prevArrow:
              `<button type="button" data-role="none" class="slick-prev slick-arrow" aria-label="prev" role="button">
                  <svg width="16" height="29" viewBox="0 0 16 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path fill-rule="evenodd" clip-rule="evenodd" d="M15.5848 1.44067L14.1965 0.000976562L0 13.6905L0.36158 14.0654L0 14.4404L14.1965 28.1299L15.5848 26.6902L2.49242 14.0654L15.5848 1.44067Z" fill="#005A68"/>
                  </svg>
              </button>`,
      nextArrow:
              `<button type="button" data-role="none" class="slick-next slick-arrow" aria-label="next" role="button">
                  <svg width="16" height="29" viewBox="0 0 16 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path fill-rule="evenodd" clip-rule="evenodd" d="M0.000189781 1.85766L1.38846 0.417969L15.585 14.1075L15.2234 14.4824L15.585 14.8574L1.38846 28.5469L0.000189781 27.1072L13.0925 14.4824L0.000189781 1.85766Z" fill="#005A68"/>
                  </svg>
              </button>`,
      dots: false,
      rtl: true,
      responsive: [

         {
           breakpoint: 890,
           settings: {
             slidesToShow: 2,
             arrows: false,
             rtl: true
           }
         },
         {
           breakpoint: 750,
           settings: {
             slidesToShow: 1,
             rtl: true,
             arrows: false,
           }
         }

       ]
   })
    });
</script>
{% schema %}
    {
        "name": "Section Reviews",
        "class": "section-reviews",
        "tag": "section",
        "settings": [
                {
                    "type": "html",
                    "id": "title",
                    "label": "Title"
                },
                {
                    "type": "html",
                    "id": "text",
                    "label": "Text"
                },
                {
                    "type": "text",
                    "id": "textBtn",
                    "label": "Text Link"
                }
        ],
        "blocks": [
            {
                "type": "item",
                "name": "Block",
                "settings": [
                    {
                        "type": "image_picker",
                        "id": "img",
                        "label": "Image"
                    },
                    {
                        "type": "checkbox",
                        "id": "rate",
                        "label": "Show Rating Stars"
                    },
                    {
                        "type": "text",
                        "id": "name",
                        "label": "Name"
                    },
                    {
                        "type": "richtext",
                        "id": "text",
                        "label": "Text"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Section Reviews",
                "category": "Custom Section"
            }
        ]
    }
{% endschema %}